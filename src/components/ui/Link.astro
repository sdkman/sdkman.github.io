---
import type { HTMLAttributes } from 'astro/types';

interface Props extends HTMLAttributes<'a'> {
  withoutStyle?: boolean;
}

const {
  href,
  class: className,
  'class:list': classList,
  withoutStyle = false,
  ...props
} = Astro.props;

let linkProps = { href, ...props };

if (!!href && href.toString().startsWith('http')) {
  linkProps = { ...linkProps, target: '_blank', rel: 'noopener noreferrer' };
}
---

<a
  class:list={[
    !withoutStyle && 'text-blue-500 hover:underline',
    className,
    classList,
  ]}
  {...linkProps}
>
  <slot />
</a>
